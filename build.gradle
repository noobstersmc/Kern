/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */
plugins{
    id 'eclipse'
    id 'java'
    id 'maven-publish'
    id 'maven'
    id 'com.github.johnrengelman.shadow' version '6.0.0'
    id "io.freefair.lombok" version "5.3.0"
}
compileJava.options.encoding = 'UTF-8'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

sourceCompatibility = 11
targetCompatibility = 11

java {
    withSourcesJar()
}

group = 'net.noobsters'
version = '0.2E'

repositories {
    mavenCentral()
    jcenter()
    maven { url 'https://papermc.io/repo/repository/maven-public/' }
    maven { url 'https://libraries.minecraft.net/' }
    maven { url 'https://plugins.gradle.org/m2' }
    maven { url 'https://jitpack.io' }
    maven { url 'https://repo.aikar.co/content/groups/aikar/' }
    
    /**Estos dos */
    maven { url 'https://repo.md-5.net/content/groups/public/'}    
    maven { url "https://repo.dmulloy2.net/repository/public/" }
    /*Noobsters/Hynix Repository */
    maven {
        credentials {
            username 'jcedeno'
            password 'PinchePerro'
        }
        url "https://hynix-repository.ue.r.appspot.com"
    }
}

dependencies {//Paper 
    compile 'com.destroystokyo.paper:paper-api:1.16.3-R0.1-SNAPSHOT'
    //ACF
    compile 'co.aikar:acf-paper:0.5.0-SNAPSHOT'
    //Scoreboard, maybe use helper by lucko?
    compile 'fr.mrmicky:FastInv:3.0.2'
    //JetBrains @ annotations
    compileOnly 'org.jetbrains:annotations:20.1.0'

    compileOnly 'net.milkbowl.vault:VaultAPI:1.7'
    compile 'org.mongodb:mongodb-driver-sync:4.2.0'
    //Caffeine
    implementation 'com.github.ben-manes.caffeine:caffeine:3.0.1'
    //Jackson
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.12.3'
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.12.3'


}

uploadArchives {
    repositories {
        mavenDeployer{
            repository(url: "https://hynix-repository.ue.r.appspot.com/") {
                authentication(userName: "jcedeno", password: "PinchePerro")
            }
            pom.version = "${version}-SNAPSHOT"
            pom.artifactId = "kern"
            pom.groupId = "net.noobsters"
        }
    }
}

processResources {
    from(sourceSets.main.resources.srcDirs) {
        expand 'version': project.version
        include 'plugin.yml'
    }
}

shadowJar {
    relocate 'co.aikar.commands', 'shadded.kern.acf'
    relocate 'fr.mrmicky', 'shadded.kern.gui'
    minimize();
}


build.dependsOn shadowJar
